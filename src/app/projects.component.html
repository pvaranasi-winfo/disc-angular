<div class="max-w-2xl mx-auto mt-12 p-6 bg-gray-800 rounded-lg shadow-lg">
  <div class="flex items-center justify-between mb-6">
    <h1 class="text-2xl font-bold text-white">Projects</h1>
    <button class="env-button bg-blue-600 text-white font-semibold hover:bg-blue-700" (click)="openCreateProjectModal()">Create Project</button>
  </div>
  <div *ngIf="projects.length === 0" class="text-gray-400 text-center py-8">No projects found.</div>
  <ul>
    <li *ngFor="let project of projects" class="flex items-center justify-between bg-gray-700 rounded px-4 py-3 mb-3">
      <div>
        <span class="text-lg text-white font-medium">{{ project.projectName }}</span>
        <span class="text-xs text-gray-400 ml-2">({{ project.createdDate | date:'dd/MM/yyyy, HH:mm' }})</span>
      </div>
      <div class="flex gap-2">
        <button class="env-button bg-green-600 text-white hover:bg-green-700" (click)="viewDashboard(project)">View Dashboard</button>
        <button class="env-button bg-red-600 text-white hover:bg-red-700" (click)="confirmDeleteProject(project)">Delete</button>
      </div>
    </li>
  </ul>

  <!-- Create Project Modal -->
  <div *ngIf="showCreateModal" class="fixed inset-0 z-50 flex items-center justify-center">
    <div class="absolute inset-0 bg-gray-900 bg-opacity-80"></div>
    <div class="relative z-10 w-full max-w-md">
      <div class="bg-gray-800 rounded-lg shadow-lg p-8">
        <h2 class="text-xl font-bold mb-4 text-white">Create Project</h2>
        <label class="block mb-2 text-gray-300 font-medium">Project Name</label>
        <input type="text" [(ngModel)]="newProjectName" class="w-full border border-gray-700 rounded px-3 py-2 mb-4 bg-gray-900 text-white focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Enter project name" [disabled]="isCreating">
        <div class="flex justify-end gap-2">
          <button class="env-button bg-gray-700 text-gray-200" (click)="closeCreateProjectModal()" [disabled]="isCreating">Cancel</button>
          <button class="env-button bg-blue-600 text-white font-semibold hover:bg-blue-700" (click)="createProject()" [disabled]="isCreating">{{ isCreating ? 'Creating...' : 'Create' }}</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Delete Confirmation Modal -->
  <div *ngIf="showDeleteModal" class="fixed inset-0 z-50 flex items-center justify-center">
    <div class="absolute inset-0 bg-gray-900 bg-opacity-80"></div>
    <div class="relative z-10 w-full max-w-md">
      <div class="bg-gray-800 rounded-lg shadow-lg p-8">
        <h2 class="text-xl font-bold mb-4 text-white">Delete Project</h2>
        <p class="text-gray-300 mb-6">Are you sure you want to delete <span class="font-semibold">{{ projectToDelete?.projectName }}</span>? This will remove all related contents.</p>
        <div class="flex justify-end gap-2">
          <button class="env-button bg-gray-700 text-gray-200" (click)="closeDeleteModal()">Cancel</button>
          <button class="env-button bg-red-600 text-white font-semibold hover:bg-red-700" (click)="deleteProject()">Delete</button>
        </div>
      </div>
    </div>
  </div>
</div>
